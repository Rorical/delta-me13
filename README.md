# 翁法罗斯 - Omphalos Simulation

一个基于AI的多代理模拟系统，重现了史诗般的"逐火之旅"世界。在这个被黑潮威胁的世界中，黄金裔们必须挑战十二泰坦，收集火种，完成再创世的使命。

## 🌟 项目特色

### 🎭 丰富的角色系统
- **黄金裔 (Golden Heirs)**: 被选中的逐火者，拥有独特的路径和原动力
- **泰坦 (Titans)**: 远古守护者，守护着火种，测试挑战者
- **NPC**: 商人、工匠、守卫、学者，支持黄金裔的逐火之旅

### 🌍 复杂的世界观
- **城邦系统**: 多种类型的城市，各有特色和资源
- **黑潮威胁**: 不断蔓延的腐蚀力量，推动剧情发展
- **火种系统**: 十二枚火种，再创世的关键
- **时间纪元**: 动态的时间系统，影响世界发展

### 🤖 AI驱动的智能代理
- **真实对话**: 基于OpenAI的自然语言交互
- **智能决策**: 每个代理都有独特的性格和目标
- **记忆系统**: 长期和短期记忆，影响决策
- **情感系统**: 代理间的关系和互动

## 🚀 快速开始

### 环境要求
- Node.js 18+
- OpenAI API Key

### 安装步骤

1. **克隆项目**
```bash
git clone https://github.com/your-username/delta-me13.git
cd delta-me13
```

2. **安装依赖**
```bash
npm install
```

3. **启动开发服务器**
```bash
npm run dev
```

4. **访问应用**
   - 打开浏览器访问 `http://localhost:5173`
   - 配置OpenAI连接
   - 点击"启动仿真"开始体验

## 🎮 系统功能

### 核心模拟系统
- **实时仿真**: 多代理并行决策和行动
- **智能调度**: 随机代理执行顺序，支持对话链
- **状态同步**: 前端实时更新世界状态
- **事件日志**: 详细记录所有活动和事件

### 代理能力
- **移动 (MOVE)**: 在城市间移动
- **收集 (GATHER_RESOURCES)**: 收集资源和材料
- **制作 (CRAFT_ITEM)**: 制作装备和物品
- **战斗 (ATTACK)**: 与其他代理战斗
- **对话 (CHAT)**: 自然语言交流
- **交易 (TRADE)**: 与其他代理交易物品
- **赠送 (GIFT)**: 赠送物品和资源
- **建造 (BUILD_DEFENSE)**: 建造防御设施
- **净化 (CLEANSE_CORRUPTION)**: 净化黑潮侵蚀

### 用户界面
- **实时监控**: 代理状态和世界指标
- **事件日志**: 可过滤的重要事件记录
- **全屏模式**: 沉浸式日志查看
- **系统控制**: 启动、停止、重置仿真

## 🏗️ 技术架构

### 前端技术栈
- **Vue 3**: 现代化的前端框架
- **TypeScript**: 类型安全的开发体验
- **Vite**: 快速的构建工具
- **CSS Grid/Flexbox**: 响应式布局

### 后端模拟系统
- **多代理系统**: 基于AI的智能代理
- **状态管理**: 复杂的世界状态管理
- **事件系统**: 动态事件生成和处理
- **记忆系统**: 代理的长期和短期记忆

### AI集成
- **OpenAI API**: 自然语言处理和决策
- **智能对话**: 上下文感知的对话系统
- **个性化**: 每个代理的独特性格和行为

## 📁 项目结构

```
delta-me13/
├── src/
│   ├── components/          # Vue组件
│   │   ├── OmphalosSystem.vue    # 主系统组件
│   │   ├── Header.vue            # 头部组件
│   │   ├── SystemDashboard.vue   # 系统仪表板
│   │   └── ...
│   ├── core/               # 核心模拟系统
│   │   ├── agent/          # 代理系统
│   │   │   ├── base.ts     # 基础代理类
│   │   │   ├── goldenHeir.ts    # 黄金裔代理
│   │   │   ├── titan.ts         # 泰坦代理
│   │   │   └── npc.ts           # NPC代理
│   │   ├── omphalosWorldState.ts # 世界状态定义
│   │   ├── llmSimulation.ts     # LLM模拟器
│   │   └── environment.ts        # 环境代理
│   ├── stores/             # 状态管理
│   │   ├── appStore.ts     # 应用状态
│   │   └── openAIStore.ts  # OpenAI状态
│   └── services/           # 服务层
│       ├── comms.ts        # 通信服务
│       └── notificationService.ts # 通知服务
├── public/                 # 静态资源
└── package.json           # 项目配置
```

## 🎯 核心概念

### 逐火之旅
在这个被黑潮威胁的世界中，黄金裔们必须：
- 挑战十二泰坦，夺取他们守护的火种
- 面对黑潮的腐蚀和威胁
- 与其他代理合作或竞争
- 最终完成再创世的使命

### 代理系统
每个代理都有：
- **独特性格**: 基于路径和原动力的个性
- **记忆系统**: 长期和短期记忆影响决策
- **能力系统**: 战斗、制作、交易等技能
- **关系网络**: 与其他代理的复杂关系

### 世界动态
- **时间流逝**: 天数和纪元系统
- **黑潮蔓延**: 动态的威胁系统
- **城市发展**: 城邦的繁荣和衰落
- **事件触发**: 随机和条件触发的事件

## 🔧 开发指南

### 添加新的代理类型
1. 在 `src/core/agent/` 创建新的代理类
2. 继承 `BaseAgent` 类
3. 实现 `decide()` 方法
4. 在配置文件中注册新代理

### 扩展世界状态
1. 在 `omphalosWorldState.ts` 中添加新的状态字段
2. 更新初始化和更新逻辑
3. 在前端组件中显示新状态

### 自定义动作类型
1. 在 `actionSchema.ts` 中定义新的动作模式
2. 在 `base.ts` 中添加动作类型定义
3. 在 `environment.ts` 中实现动作处理逻辑

## 📄 许可证

本项目采用 Apache 2.0 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。
